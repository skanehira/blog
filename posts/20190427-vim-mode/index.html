<!doctype html><html lang=ja><head><meta charset=utf-8><base href=https://skanehira.github.io/blog/><link rel=canonical href=https://skanehira.github.io/blog/posts/20190427-vim-mode/><meta name=viewport content="width=device-width,initial-scale=1"><title>Vimモード入門 | ゴリラ@転生したら人間だった件</title><meta name=description content="こんにちわ。 ゴリラ.vimを運営しているゴリラです。 vimを初めて半年過ぎましたが、未だにvimの底がみえていないのでvimは沼ではなくブラ"><meta property="og:title" content="Vimモード入門 | ゴリラ@転生したら人間だった件"><meta property="og:type" content="article"><meta property="og:url" content="https://skanehira.github.io/blog/posts/20190427-vim-mode/"><meta property="og:site_name" content="ゴリラ@転生したら人間だった件"><meta property="og:description" content="こんにちわ。 ゴリラ.vimを運営しているゴリラです。 vimを初めて半年過ぎましたが、未だにvimの底がみえていないのでvimは沼ではなくブラ"><link rel=stylesheet href=https://skanehira.github.io/blog/css/reset.524633911eadaf3cb674408574038ab61826bbd094638faef366ddcaf13e56ab.css><link rel=stylesheet href=https://skanehira.github.io/blog/scss/style.10edae46d9f81f5614a2948ad849646e1db60c0a332e3c53c5b62027c7ba5018.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.8.2/css/all.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.8.2/css/all.css></noscript><script>!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(a){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){function e(){t.addEventListener?t.removeEventListener("load",e):t.attachEvent&&t.detachEvent("onload",e),t.setAttribute("onload",null),t.media=a}var a=t.media||"all";t.addEventListener?t.addEventListener("load",e):t.attachEvent&&t.attachEvent("onload",e),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(e,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);</script></head><body class=m-body><header class=m-global-header><div class=m-logo><a class=m-logo__link href=/blog>ゴリラ@転生したら人間だった件</a></div><div class=m-global-menu><nav class=m-global-menu__navigation><ul class=m-global-menu__navigation-list><li class=m-global-menu__navigation-list-item><a class=m-global-menu__navigation-list-item-link href=/blog/>Home</a></li><li class=m-global-menu__navigation-list-item><a class=m-global-menu__navigation-list-item-link href=/blog/posts>Posts</a></li><li class=m-global-menu__navigation-list-item><a class=m-global-menu__navigation-list-item-link href=https://github.com/skanehira>GitHub</a></li><li class=m-global-menu__navigation-list-item><a class=m-global-menu__navigation-list-item-link href=https://twitter.com/gorilla0513>Twitter</a></li></ul></nav></div></header><main class=m-main><div class=m-main-container><div class=m-content-container><article class=m-entry><div class=m-entry__breadcrumbs><div class=a-breadcrumbs><ul class=a-breadcrumbs__list itemscope itemtype=http://schema.org/BreadcrumbList><li class=a-breadcrumbs__list-item itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a class=a-breadcrumbs__list-item-link href=https://skanehira.github.io/blog/ itemprop=item><span itemprop=name>Home</span></span><meta itemprop=position content="1"></a><span class=a-breadcrumbs__list-item-link-gt>></span></li><li class=a-breadcrumbs__list-item itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a class=a-breadcrumbs__list-item-link href=https://skanehira.github.io/blog/posts/ itemprop=item><span itemprop=name>Posts</span><meta itemprop=position content="2"></a><span class=a-breadcrumbs__list-item-link-gt>></span></li><li class=a-breadcrumbs__list-item itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a class=a-breadcrumbs__list-item-link href=https://skanehira.github.io/blog/posts/20190427-vim-mode/ itemprop=item><span itemprop=name>Vimモード入門</span><meta itemprop=position content="3"></a></li></ul></div></div><div class=m-entry__header><div class=m-entry__header-taxonomies><div class=m-entry__header-taxonomies-category><span class=m-entry__header-taxonomies-category-title><a class=m-entry__header-taxonomies-category-title-link href=https://skanehira.github.io/blog/posts/>Posts</a></span></div></div><div class=m-entry__header-title><a class=m-entry__header-title-link href=https://skanehira.github.io/blog/posts/20190427-vim-mode/><h1 class=m-entry__header-title-link-text>Vimモード入門</h1></a></div><div class=m-entry__header-date><time>2019/04/27</time></div></div><div class=m-entry__content><p>こんにちわ。
<a href=https://gorillavim.connpass.com/>ゴリラ.vim</a>を運営しているゴリラです。</p><p>vimを初めて半年過ぎましたが、未だにvimの底がみえていないのでvimは沼ではなくブラックホールであることに気づきました。
道のりは遠いですが、楽しみながら旅していこうと思います。</p><p>さて、vimを初めて触る方は最初にモードがあることに戸惑う方が多くいるかと思います。
本記事は次のことについて触れていきます。</p><ul><li>モードによる恩恵はなにか</li><li>モード一覧</li><li>モードごとにできること</li></ul><p>この記事を読み終わる頃にはきっとvimはなぜモードがあるのかを理解できると思います。
理解できなかったら、ぼくが面と向かって3時間語りますのでご連絡ください。</p><h2 id=モードによる恩恵はなにか>モードによる恩恵はなにか</h2><p>テキストエディタはモードレスが一般的かと思います。
ではvimはなぜモードがあるのでしょうか？</p><p>それは「操作性・機能性」の幅が広がるからとぼくは考えています。</p><p>Windowsのメモ帳では<code>A~Z0~9</code>や<code>/@</code>といった記号や文字はそのまま入力でき、<code>Ctrl+C</code>で文字列コピー、<code>Ctrl+S</code>でファイル保存を行います。</p><p>対してvimでは入力モードでは文字列の入力、ノーマルモードでは<code>h,j,k,l</code>でカーソル移動、<code>y</code>で文字列ヤンク<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>、<code>dw</code>で単語の削除を行います。
モードがあることより同じキーが全く異なる動きをします。</p><p>そう、これがモードがもたらす恩恵です。</p><h2 id=モード一覧>モード一覧</h2><p>vimでは以下のモードがあり、それぞれのモードでできることは大まか次の表になります。</p><table><thead><tr><th>モード</th><th>機能</th></tr></thead><tbody><tr><td>ノーマルモード</td><td>カーソル移動、ヤンク、プット<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>、削除、など</td></tr><tr><td>入力モード</td><td>文字入力、プットなど</td></tr><tr><td>ビジュアルモード</td><td>範囲選択、選択範囲のヤンク、削除など</td></tr><tr><td>コマンドラインモード</td><td>変更の保存、vim終了、文字列置換など</td></tr></tbody></table><p>他にオペレーター待機モード、端末ジョブモード、選択モードがありますが、
こちらに関しては別の機会にご紹介します。</p><h2 id=モードの切り替え方>モードの切り替え方</h2><p>vimでは基本的にモードを切り替えながら編集します。
次がモードの移行方法です。</p><table><thead><tr><th>現在のモード</th><th>移行先モード</th><th>キー</th></tr></thead><tbody><tr><td>ノーマル</td><td>入力</td><td><code>i</code>、<code>I</code>、<code>a</code>、<code>A</code>、<code>s</code>、<code>S</code></td></tr><tr><td>ノーマル</td><td>コマンドライン</td><td><code>:</code></td></tr><tr><td>ノーマル</td><td>ビジュアル</td><td><code>v</code>、<code>V</code>、<code>ctr-v</code></td></tr><tr><td>入力</td><td>ノーマル</td><td><code>esc</code>、<code>ctrl-c</code></td></tr><tr><td>コマンドライン</td><td>ノーマル</td><td><code>esc</code>、<code>ctrl-c</code></td></tr><tr><td>ビジュアル</td><td>ノーマル</td><td><code>esc</code>、<code>ctrl-c</code></td></tr></tbody></table><p>モード移行キーがいくつかありますが、違いについては<a href=#%E3%83%8E%E3%83%BC%E3%83%9E%E3%83%AB%E3%83%A2%E3%83%BC%E3%83%89>ノーマルモード</a>で説明します。</p><h2 id=モードごとにできること>モードごとにできること</h2><p>それぞれのモードでできることを一部ピックアップしてご紹介します。</p><h3 id=ノーマルモード>ノーマルモード</h3><table><thead><tr><th>コマンド</th><th>操作</th></tr></thead><tbody><tr><td><code>h</code></td><td>カーソルを左に移動</td></tr><tr><td><code>j</code></td><td>カーソルを下に移動</td></tr><tr><td><code>k</code></td><td>カーソルを上に移動</td></tr><tr><td><code>l</code></td><td>カーソルを右に移動</td></tr><tr><td><code>yy</code></td><td>行ヤンク</td></tr><tr><td><code>Y</code></td><td>行ヤンク</td></tr><tr><td><code>dd</code></td><td>行削除</td></tr><tr><td><code>D</code></td><td>現在のカーソルから行末まで削除</td></tr><tr><td><code>p</code></td><td>カーソルの後にプット</td></tr><tr><td><code>P</code></td><td>カーソルの前にプット</td></tr><tr><td><code>c</code></td><td>削除して入力モードに移行</td></tr><tr><td><code>C</code></td><td>現在のカーソルから後ろをすべて削除して入力モードに移行</td></tr><tr><td><code>w</code></td><td>次の単語の先頭に移動</td></tr><tr><td><code>W</code></td><td>空白と改行で区切られた次の単語の先頭に移動</td></tr><tr><td><code>e</code></td><td>単語の末尾に移動</td></tr><tr><td><code>E</code></td><td>空白と改行で区切られた単語の最後尾に移動</td></tr><tr><td><code>b</code></td><td>前の単語移動</td></tr><tr><td><code>B</code></td><td>空白と改行で区切られた前の単語に移動</td></tr><tr><td><code>ZZ</code></td><td>保存してvimを終了する</td></tr></tbody></table><p>モード移行のコマンドは次になります。</p><table><thead><tr><th>コマンド</th><th>操作</th></tr></thead><tbody><tr><td><code>s</code></td><td>カーソル上の文字削除して入力モードに移行</td></tr><tr><td><code>S</code></td><td>行を削除して入力モードに移行</td></tr><tr><td><code>i</code></td><td>入力モードに移行</td></tr><tr><td><code>I</code></td><td>カーソルを行先頭に移動して入力モードに移行</td></tr><tr><td><code>a</code></td><td>カーソルの後ろに移動して入力モードに移行</td></tr><tr><td><code>A</code></td><td>カーソルを行末尾に移動して入力モードに移行</td></tr><tr><td><code>v</code></td><td>文字単位ビジュアルモードに移行</td></tr><tr><td><code>V</code></td><td>行単位ビジュアルモードに移行</td></tr><tr><td><code>Ctrl-v</code></td><td>矩形ビジュアルモードに移行</td></tr></tbody></table><p>ノーマルモードでは表通りの操作が可能ですが、その中で<code>y</code>、<code>d</code>、<code>c</code>はオペレーターコマンド、<code>h</code>、<code>j</code>、<code>k</code>、<code>l</code>、<code>w</code>、<code>W</code>、<code>b</code>、<code>B</code>はモーションコマンドと呼ばれています。</p><p>モーションコマンドは範囲を指すため、オペレーターコマンドの後にモーションコマンドを続けて入力することでオペレーターの操作がその範囲に適用されます。</p><p>つまり、<code>dw</code>で単語を削除、<code>cw</code>で単語を削除して入力モードに移行る事ができます。</p><p>範囲を示すコマンドはモーション以外にテキストオブジェクトがあります。
一般的によく使うと思われるテキストオブジェクトは次の表になります。</p><table><thead><tr><th>テキストオブジェクト</th><th>範囲</th></tr></thead><tbody><tr><td><code>iw</code></td><td>単語</td></tr><tr><td><code>aw</code></td><td>前後の空白を含む単語</td></tr><tr><td><code>is</code></td><td>文</td></tr><tr><td><code>as</code></td><td>後の空白を含む文</td></tr><tr><td><code>ip</code></td><td>段落</td></tr><tr><td><code>ap</code></td><td>改行を含む段落</td></tr><tr><td><code>ib</code></td><td>()の内部</td></tr><tr><td><code>ab</code></td><td>()と内部を含む</td></tr></tbody></table><p>表以外のテキストオブジェクトは<a href=https://vim-jp.org/vimdoc-ja/motion.html#text-objects>こちら</a>を参照してください。</p><p>この通り、vimではテキストオブジェクト・モーション・オペレーターを駆使することでテキストの高速編集を実現しています。
ここから楽しくなるので、初学者の方はまずこれらに慣れることをおすすめします。</p><h3 id=入力モード>入力モード</h3><p>一部をご紹介します。
他に何ができるか気になる方は<a href=https://gorilla.netlify.com/articles/20190123-vim-insert.html>Vimのインサートモードでできること</a>をぜひ読んでみてください。
gif付きでわかりやすく説明しています。</p><table><thead><tr><th>キー</th><th>操作</th></tr></thead><tbody><tr><td><code>esc</code></td><td>ノーマルモードに移行</td></tr><tr><td><code>Ctrl-c</code></td><td>ノーマルモードに移行<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></td></tr><tr><td><code>Ctrl-y</code></td><td>上の行のカーソルの位置の文字を挿入</td></tr><tr><td><code>Ctrl-e</code></td><td>下の行のカーソルの位置の文字を挿入</td></tr><tr><td><code>Ctrl-t</code></td><td>1タブ入力</td></tr><tr><td><code>Ctrl-d</code></td><td>1タブ削除</td></tr><tr><td><code>Ctrl-g</code> <code>j</code></td><td>下の行に移動</td></tr><tr><td><code>Ctrl-g</code> <code>k</code></td><td>上の行に移動</td></tr><tr><td><code>Ctrl-h</code></td><td>1文字削除</td></tr><tr><td><code>Ctrl-r</code> <code>{0-9a-z"%#*:=}</code></td><td>指定したレジスタ<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>をプット</td></tr><tr><td><code>Ctrl-x</code> <code>Ctrl-n</code></td><td>開いているファイルないにある単語補完</td></tr></tbody></table><h3 id=ビジュアルモード>ビジュアルモード</h3><table><thead><tr><th>キー</th><th>操作</th></tr></thead><tbody><tr><td><code>y</code></td><td>選択した範囲をヤンク</td></tr><tr><td><code>d</code></td><td>選択した範囲を削除</td></tr><tr><td><code>c</code></td><td>選択した範囲を削除して入力モードに移行</td></tr><tr><td><code>=</code></td><td>選択した範囲を整形する</td></tr><tr><td><code>></code></td><td>選択した範囲を1タブ右に移動</td></tr><tr><td><code>&lt;</code></td><td>選択した範囲を1タグ右に移動</td></tr><tr><td><code>I</code></td><td>矩形選択の時、選択範囲のすべての行先頭にテキストを入力</td></tr><tr><td><code>J</code></td><td>選択した範囲をすべて連結する</td></tr><tr><td><code>o</code></td><td>選択した範囲の先頭または末尾にカーソルを移動</td></tr></tbody></table><p>もっと詳しく知りたい方は<a href=https://vim-jp.org/vimdoc-ja/visual.html>マニュアル</a>を参照してみてください。</p><h3 id=コマンドラインモード>コマンドラインモード</h3><p>こちらの<a href=https://gorilla.netlify.com/articles/20190422-vim-cmdline.html>Vimのコマンドラインモードでできること</a>にまとめてありますので、ぜひ読んでみてください。</p><h2 id=最後に>最後に</h2><p>みなさん、なぜvimにはモードがあるのか理解できましたか？</p><p>本記事で紹介した内容はほんの一部をでしかなくて、他にもできることがたくさんあります。
ぜひ日本語マニュアルや他の方の記事を読んでみてください。</p><p>また、ぼくが運営しているゴリラ.vimではvimmerがたくさん集まっています。
一人ではなかなか知ることのできない知見がゴリラ.vimにあります。</p><p>では、よいvimライフを〜</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>コピーすることを指す <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>貼り付けのことを指す <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p><code>esc</code>と同等ではないと<a href="https://twitter.com/h_east?s=17">h_eastさん</a>より指摘をいただきました。詳細は<a href="http://neko-mac.blogspot.com/2016/07/vimvim.html?showComment=1481768895634#c2524567742061789023">こちらのコメント</a>を参照してください。 <a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4 role=doc-endnote><p>ヤンクしたデータが保存されている領域のこと <a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class=m-entry__footer><div class=m-entry__footer-sns-buttons><a class=m-entry__footer-sns-buttons-icon-hatebu href="https://b.hatena.ne.jp/my/add.confirm?title=Vim%E3%83%A2%E3%83%BC%E3%83%89%E5%85%A5%E9%96%80+%7C+%E3%82%B4%E3%83%AA%E3%83%A9%40%E8%BB%A2%E7%94%9F%E3%81%97%E3%81%9F%E3%82%89%E4%BA%BA%E9%96%93%E3%81%A0%E3%81%A3%E3%81%9F%E4%BB%B6&url=https%3A%2F%2Fskanehira.github.io%2Fblog%2Fposts%2F20190427-vim-mode%2F" target=_blank rel="noopener noreferrer">B!</a>
<a class=m-entry__footer-sns-buttons-icon href="https://twitter.com/intent/tweet?text=Vim%E3%83%A2%E3%83%BC%E3%83%89%E5%85%A5%E9%96%80+%7C+%E3%82%B4%E3%83%AA%E3%83%A9%40%E8%BB%A2%E7%94%9F%E3%81%97%E3%81%9F%E3%82%89%E4%BA%BA%E9%96%93%E3%81%A0%E3%81%A3%E3%81%9F%E4%BB%B6&url=https%3A%2F%2Fskanehira.github.io%2Fblog%2Fposts%2F20190427-vim-mode%2F" target=_blank rel="noopener noreferrer"><i class="fab fa-twitter">&nbsp;</i></a>
<a class=m-entry__footer-sns-buttons-icon href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fskanehira.github.io%2Fblog%2Fposts%2F20190427-vim-mode%2F" target=_blank rel="noopener noreferrer"><i class="fab fa-facebook">&nbsp;</i></a></div></div><div class=m-entry__page-navigation><a class=m-entry__page-navigation-link href=https://skanehira.github.io/blog/posts/20190427-vim-help-jp/>&lt; prev</a>
<a class=m-entry__page-navigation-link href=https://skanehira.github.io/blog/posts/20190422-vim-cmdline/>next ></a></div><div class=m-entry__breadcrumbs><div class=a-breadcrumbs><ul class=a-breadcrumbs__list itemscope itemtype=http://schema.org/BreadcrumbList><li class=a-breadcrumbs__list-item itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a class=a-breadcrumbs__list-item-link href=https://skanehira.github.io/blog/ itemprop=item><span itemprop=name>Home</span></span><meta itemprop=position content="1"></a><span class=a-breadcrumbs__list-item-link-gt>></span></li><li class=a-breadcrumbs__list-item itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a class=a-breadcrumbs__list-item-link href=https://skanehira.github.io/blog/posts/ itemprop=item><span itemprop=name>Posts</span><meta itemprop=position content="2"></a><span class=a-breadcrumbs__list-item-link-gt>></span></li><li class=a-breadcrumbs__list-item itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a class=a-breadcrumbs__list-item-link href=https://skanehira.github.io/blog/posts/20190427-vim-mode/ itemprop=item><span itemprop=name>Vimモード入門</span><meta itemprop=position content="3"></a></li></ul></div></div></article></div><div class=m-aside-container><div class=m-aside-widget__profile><div class=m-aside-widget__profile-avatar></div><div class=m-aside-widget__profile-author></div><div class=m-aside-widget__profile-description></div></div></div></div></main><footer class=m-global-footer><span class=a-copy-right>Copyright 2021
All rights reserved.</span></footer></body></html>